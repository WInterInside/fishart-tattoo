{"version":3,"sources":["app.js"],"names":["TattooAnimation","constructor","canvasSelector","options","this","canvas","document","querySelector","ctx","getContext","dpr","window","devicePixelRatio","parentElement","closest","console","error","fps","imagePathPattern","index","maxFramesToCheck","maxCanvasLogicalWidth","maxCanvasLogicalHeight","FPS","FRAME_INTERVAL","frames","currentFrameIndex","lastTimestamp","isIntersecting","animationFrameId","boundAnimate","animate","bind","resizeCanvas","addEventListener","setupIntersectionObserver","loadAllFramesAndStart","rect","getBoundingClientRect","newWidth","Math","min","width","newHeight","height","currentImage","imgRatio","setTransform","length","drawFrame","loadImage","src","Promise","resolve","reject","img","Image","onload","onerror","Error","clearRect","canvasWidth","canvasHeight","drawWidth","drawHeight","offsetX","offsetY","drawImage","promises","i","path","push","results","allSettled","loadedCount","result","status","warn","reason","value","classList","add","requestAnimationFrame","timestamp","cancelAnimationFrame","IntersectionObserver","entries","forEach","entry","root","rootMargin","threshold","observe","tattoo"],"mappings":"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","file":"main.min.js"}