class TattooAnimation{constructor(t,s={}){this.canvas=document.querySelector(t),this.ctx=this.canvas.getContext("2d"),this.dpr=window.devicePixelRatio||1;this.options={fps:3,imageUrls:[],...s},this.FPS=this.options.fps,this.FRAME_INTERVAL=1e3/this.FPS,this.imagePaths=this.options.imageUrls,this.frames=[],this.currentFrameIndex=0,this.lastTimestamp=0,this.isPaused=!1,this.boundAnimate=this.animate.bind(this),this.resizeCanvas(),window.addEventListener("resize",()=>this.resizeCanvas()),this.addInteractionListeners(),this.preloadAndStartAnimation()}resizeCanvas(){const t=this.canvas.getBoundingClientRect();this.canvas.width=t.width*this.dpr,this.canvas.height=t.height*this.dpr,this.ctx.setTransform(this.dpr,0,0,this.dpr,0,0)}loadImage(t){return new Promise((s,i)=>{const a=new Image;a.onload=()=>s(a),a.onerror=()=>i(new Error(`Failed to load image: ${t}`)),a.src=t})}drawFrame(t){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const s=this.canvas.width/this.dpr,i=this.canvas.height/this.dpr;let a,e,n,h;t.width/t.height>s/i?(e=i,a=t.width*(i/t.height),n=(s-a)/2,h=0):(a=s,e=t.height*(s/t.width),n=0,h=(i-e)/2),this.ctx.drawImage(t,n,h,a,e)}async preloadAndStartAnimation(){try{const t=await this.loadImage(this.imagePaths[0]);this.drawFrame(t);const s=await Promise.all(this.imagePaths.map(t=>this.loadImage(t)));this.frames=s,this.animate()}catch(t){console.error("Error loading animation frames:",t)}}animate(){this.isPaused||0===this.frames.length||(this.drawFrame(this.frames[this.currentFrameIndex]),this.currentFrameIndex=(this.currentFrameIndex+1)%this.frames.length),this.animationTimer=setTimeout(()=>this.animate(),this.FRAME_INTERVAL)}addInteractionListeners(){this.canvas.addEventListener("mousedown",()=>this.isPaused=!0),this.canvas.addEventListener("mouseup",()=>this.isPaused=!1),this.canvas.addEventListener("mouseleave",()=>this.isPaused=!1),this.canvas.addEventListener("touchstart",()=>this.isPaused=!0,{passive:!0}),this.canvas.addEventListener("touchend",()=>this.isPaused=!1),this.canvas.addEventListener("touchcancel",()=>this.isPaused=!1)}}window.addEventListener("DOMContentLoaded",()=>{const t=Array.from({length:25},(t,s)=>`assets/images/slides/${s}.jpg`);new TattooAnimation("#tattoo-canvas",{imageUrls:t})});//# sourceMappingURL=main.min.js.map
