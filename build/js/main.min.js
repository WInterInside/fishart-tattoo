class TattooAnimation{constructor(t,i={}){this.canvas=document.querySelector(t),this.ctx=this.canvas.getContext("2d"),this.dpr=window.devicePixelRatio||1;this.options={fps:8,imageUrls:[],...i},this.FPS=this.options.fps,this.FRAME_INTERVAL=1e3/this.FPS,this.imagePaths=this.options.imageUrls,this.frames=[],this.currentFrameIndex=0,this.lastTimestamp=0,this.boundAnimate=this.animate.bind(this),this.resizeCanvas(),window.addEventListener("resize",()=>this.resizeCanvas()),this.preloadAndStartAnimation()}resizeCanvas(){const t=this.canvas.getBoundingClientRect();this.canvas.width=t.width*this.dpr,this.canvas.height=t.height*this.dpr,this.ctx.setTransform(this.dpr,0,0,this.dpr,0,0)}loadImage(t){return new Promise((i,s)=>{const a=new Image;a.onload=()=>i(a),a.onerror=()=>s(new Error(`Failed to load image: ${t}`)),a.src=t})}drawFrame(t){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const i=this.canvas.width/this.dpr,s=this.canvas.height/this.dpr;let a,e,h,n;t.width/t.height>i/s?(e=s,a=t.width*(s/t.height),h=(i-a)/2,n=0):(a=i,e=t.height*(i/t.width),h=0,n=(s-e)/2),this.ctx.drawImage(t,h,n,a,e)}preloadAndStartAnimation(){Promise.all(this.imagePaths.map(t=>this.loadImage(t))).then(t=>{this.frames=t,this.drawFrame(this.frames[0]),requestAnimationFrame(this.boundAnimate)}).catch(t=>console.error("Error loading animation frames:",t))}animate(t){this.lastTimestamp||(this.lastTimestamp=t);const i=t-this.lastTimestamp;i>=this.FRAME_INTERVAL&&(this.drawFrame(this.frames[this.currentFrameIndex]),this.currentFrameIndex=(this.currentFrameIndex+1)%this.frames.length,this.lastTimestamp=t-i%this.FRAME_INTERVAL),requestAnimationFrame(this.boundAnimate)}}window.addEventListener("DOMContentLoaded",()=>{new TattooAnimation("#tattoo-canvas",{imageUrls:Array.from({length:14},(t,i)=>`assets/images/slides/${i+1}.jpg`)})});//# sourceMappingURL=main.min.js.map
